---
layout: post
title: Optiq latest
date: '2013-03-01T13:29:00.000-08:00'
author: Julian Hyde
tags: 
modified_time: '2013-03-01T13:29:02.574-08:00'
blogger_id: tag:blogger.com,1999:blog-5672165237896126100.post-3297441682839682298
blogger_orig_url: https://julianhyde.blogspot.com/2013/03/optiq-latest.html
---

        <br /><div class="p1">       </div><div class="p1"><a href="https://github.com/julianhyde/optiq" target="_blank">Optiq</a> has been developing steadily over the past few months. Those of you who <a href="https://github.com/julianhyde/optiq/commits/master" target="_blank">watch github</a> will know most of this already, but I thought I'd summarize what's been going on.</div><div class="p1"><br /></div><div class="p1">(This post originally appeared as an email to the <a href="https://groups.google.com/forum/?fromgroups#!forum/optiq-dev" target="_blank">optiq-dev</a>&nbsp;mailing list. Since I compose email messages a lot faster than blog posts, and the email message contained a lot of stuff that you'd all find interesting, it made sense to recycle it. Hope you don't mind.)</div><div class="p2"><br /></div><div class="p1">There are two exciting new projects using Optiq:</div><ul class="ul1"><li class="li1">I have been working in private with <a href="https://twitter.com/cwensel" target="_blank">Chris Wensel</a> on a project to use Optiq to provide a SQL interface to <a href="http://www.cascading.org/" target="_blank">Cascading</a>, and last week we <a href="http://julianhyde.blogspot.com/2013/02/announcing-lingual.html" target="_blank">announced Lingual</a>.</li><li class="li1">I am working a SQL interface for the <a href="http://incubator.apache.org/drill/" target="_blank">Apache Drill</a> project.</li></ul><div class="p2">This week I attended the <a href="http://strataconf.com/strata2013/" target="_blank">Strata conference in Santa Clara</a>, and met lots of people who are interested in Optiq for various reasons. There are at least 4 back-end platforms or front-end languages that people would like to see. I can't describe them all here, but this space. Some exciting stuff will play out in this forum over the next few months.</div><div class="p2"><br /></div><div class="p1">One of my personal favorite projects is to get Optiq running on compressed, in-memory tables managed by a <a href="http://jcp.org/en/jsr/detail?id=107" target="_blank">JSR-107</a>-compliant cache/data-grid such as <a href="http://ehcache.org/" target="_blank">ehCache</a> or <a href="http://www.jboss.org/infinispan" target="_blank">Infinispan</a>. <a href="https://github.com/julianhyde/optiq/blob/master/src/main/java/net/hydromatic/optiq/impl/clone/ArrayTable.java" target="_blank">ArrayTable</a> and <a href="https://github.com/julianhyde/optiq/blob/master/src/main/java/net/hydromatic/optiq/impl/clone/CloneSchema.java" target="_blank">CloneSchema</a> are the beginnings of that project. The end result&nbsp;will be a high-performance, distributed, in-memory SQL database... how cool is that? (Certainly, my own Mondrian project will be able to make massive use of it.)</div><div class="p2"><br /></div><div class="p1">And, some people were asking for the <a href="https://github.com/julianhyde/optiq-splunk" target="_blank">Splunk adapter</a> (the so-called "JDBC driver for Splunk") to be improved. Good to hear that it's proving useful.</div><div class="p2"><br /></div><div class="p1">Now regarding the code.</div><div class="p2"><br /></div><div class="p1">One person noted that "mvn clean install" should just work for any maven-based project, and it doesn't. He's right. It should. <a href="https://github.com/julianhyde/optiq/commit/e49f96c220b12bf1dc4d968fbbb6dcfc4321f40b" target="_blank">I fixed it</a>. Now it does.</div><div class="p2"><br /></div><div class="p3"><span class="s2">I made some <a href="https://github.com/julianhyde/optiq/commit/4737cbbafc4051d0d70a3887f40461df7f4e3d03" target="_blank">breaking API changes last week</a>, so I upped the version to 0.2.</span></div><div class="p2"><br /></div><div class="p1">Expect the version numbers to continue to move erratically, because in our current development mode, it doesn't seem to make sense to have specific milestones. We're basically working on general stability rather than a few big features. We are trying to maintain backwards compatibility, but if we need to change API, we'll do it. I'll help dependent projects such as Lingual and Drill migrate to the new API, and make it as easy as possible for the rest of you.</div><div class="p2"><br /></div><div class="p1">Over the last week I'd been working on the code generation that powers SQL scalar expressions and built-in functions. This code generation is, obviously, used by the <a href="https://github.com/julianhyde/optiq/tree/master/src/main/java/net/hydromatic/optiq/rules/java" target="_blank">Java provider</a>, but it can also be used by other providers. For instance, Lingual generates Java strings for filters that it passes to <a href="http://docs.codehaus.org/display/JANINO/Home" target="_blank">Janino</a>. I've been working on OptiqSqlOperatorTest to get more and more of the built-in SQL functions to pass, and I've added OptiqAssert.planContains so that we can add tests to make sure that the minitiae of java code generation are as efficient as possible.</div><div class="p1"><br /></div><div class="p1">I still need to tell you about the extensions I've been making to Optiq SQL to support Drill (but useful to any project that wants to use nested data or late-binding schemas), but that will have to wait for its own blog post. Watch this space.</div><br />