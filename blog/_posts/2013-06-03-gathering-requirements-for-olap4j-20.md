---
layout: post
title: Gathering requirements for olap4j 2.0
date: '2013-06-03T10:35:00.000-07:00'
author: Julian Hyde
tags: 
modified_time: '2013-06-03T10:35:00.926-07:00'
blogger_id: tag:blogger.com,1999:blog-5672165237896126100.post-7997117779151337818
blogger_orig_url: https://julianhyde.blogspot.com/2013/06/gathering-requirements-for-olap4j-20.html
---

It's time to start thinking about olap4j version 2.0.<br /><br />My initial goal for olap4j version 1.0 was to decouple application developers from Mondrian's legacy API. We've far surpassed that goal. Many applications are using olap4j to connect to OLAP servers like Microsoft SQL Server Analysis Services, Palo and SAP BW. And projects are leveraging the <code>olap4j-xmlaserver</code> sister project to provide an XMLA interface on their own OLAP server. The need is greater than ever to comply with the latest standards.<br/><br/>The difference between products and APIs is that you can't change APIs without pissing people off. Even if you improve the API, you force the developers of the drivers to implement the improvements, and the users of the API get upset because they don't have their new drivers yet. There are plenty of improvements to make to olap4j, so let's try to do it without pissing too many people off!<br /><br />Since olap4j version 1.0, there has been a new release of Mondrian (well, 4.0 is not released officially yet, but the metamodel and API are very nearly fully baked) and a new release of SQL Server Analysis Services, the home of the de facto XMLA standard.<br /><br />Also, the Mondrian team have spun out their XMLA server as a <a href="https://github.com/olap4j/olap4j-xmlaserver">separate project (olap4j-xmlaserver)</a> that can run against any olap4j driver. If this server is to implement the latest XMLA specification, it needs the underlying olap4j driver to give it all the metadata it needs.<br /><br />Here's <a href="http://sourceforge.net/p/olap4j/discussion/577988/thread/d5bacb80/">an example of</a> the kind of issue that we'd like to fix. In olap4j 1.x, you can't tell whether a hierarchy is a parent-child hierarchy. People have asked for a method<br /><blockquote><pre>boolean isParentChild();</pre></blockquote>Inspired by the the STRUCTURE attribute of the <a href="http://msdn.microsoft.com/en-us/library/ms126062.aspx">MDSCHEMA_HIERARCHIES XMLA request</a>, we instead propose to add<br/><blockquote><pre>enum Structure {<br />  FULLYBALANCED,<br />  RAGGEDBALANCED,<br />  RAGGED,<br />  NETWORK<br />}<br />Structure isParentChild();</pre></blockquote> We can't add this without requiring a new revision of all drivers, but let's be careful gather all the requirements so we can do it just this once.<br/><br/> Here are my goals for olap4j 2.0:<br/><br/><ul><li>Support Analysis Services 2012 metamodel and XMLA as of Analysis Services 2012. <li>Create an <code>enum</code> for each XMLA enum. (<code>Structure</code>, above, is an example.) <li>Support Mondrian 4.0 metamodel. Many of the new Mondrian features, such as measure groups and attributes, are already in SSAS and XMLA. <li>Allow user-specified metadata, such as those specified in Mondrian's schema as annotations, to be passed through the olap4j API and XMLA driver. <li>We'll know that we've done the right thing if we can remove <a href="http://mondrian.pentaho.com/api/mondrian/olap4j/MondrianOlap4jExtra.html">MondrianOlap4jExtra</a>. </ul> I'd also like to maintain backwards compatibility. As I already said, drivers will need to be changed. But any application that worked against olap4j 1.1 should work against olap4j 2.0, and any driver for olap4j 2.0 should also function as an olap4j 1.x driver. That should simplify things for the users.<br/><br/> I'll be gathering a detailed list of API improvements in the <a href="https://github.com/olap4j/olap4j/blob/master/olap4j_version_2_specification.md">olap4j 2.0 specification</a>. If you have ideas for what should be in olap4j version 2.0, now is the time to <a href="https://lists.sourceforge.net/lists/listinfo/olap4j-devel">get involved</a>!