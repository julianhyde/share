---
layout: post
title: Pure plastics and good architecture
date: '2013-03-12T22:31:00.000-07:00'
author: Julian Hyde
tags:
modified_time: '2013-03-12T22:31:16.915-07:00'
blogger_id: tag:blogger.com,1999:blog-5672165237896126100.post-5888094057760386112
blogger_orig_url: https://www.blogger.com/comment.g?blogID=5672165237896126100&postID=5888094057760386112
---

A few years ago I said "in five years we'll all be using Hadoop... but it will look so much like a database that most of us won't know it".  With a rash of announcements of SQL on Hadoop recently, it looks like this is coming to pass.<br /><br />Hortonworks' Bob Page writes http://hortonworks.com/blog/future-of-hadoop/   about the importance of creating a good implementation of SQL on Hadoop. I agree with a lot of what he says. In my post http://julianhyde.blogspot.com/2012/06/from-ashes-of-database-revolution.html last year I argued that the two were complementary. Hadoop is an open, scalable, extensible shared-nothing architecture, and SQL brings industry acceptance, tool interoperability, and data independence.<br /><br />Page argues the importance of using the genuine Hadoop architecture (I'll come back to that claim in a minute) but I wanted to stress the importance of a genuine SQL architecture.<br /><br />A genuine SQL architecture isn't about providing a SQL veneer. At the core, it is about data independence. You declare where your data is, tell the system what you want, and the system knows the best way to go and get it. This means that you (or the system) can re-organize your data and your queries still work.<br /><br />The two essential components for that to work are a sound query algebra and a query planner. SQL is not the only possible algebra, but it will do just fine. The data structures don't need to be "flat" relations, but they might as well look like tables composed of records, because that can model just about any large-scale data. Also, Hadoop's users expect data to be in just about any place and any format, and they expect to be able to write their own operations.<br /><br />Optiq is designed to provide just those two essential components: query algebra and query planner. Everything else, including the SQL parser, is optional and/or extensible.<br /><br />Page's claim that Hadoop is the only true architecture for SQL on Hadoop is suspect (if it's not downright tautologous). Hadoop is impressive for certain workloads such as ETL, but for other workloads such as (ahem) real-time query and streaming it is still immature.<br /><br />Is Page's blog post the first blast of a "Hadoop Inside(R)" campaign? I hope not. Hadoop has come this far on the backs of the community, but the community is looking pretty dysfunctional right now. A branding campaign isn't going to solve those problems. The companies who have hired the main committers need to find some common interest.<br /><br />(I'm not pointing fingers at any party. Really I'm not. I'm just saying that I'm standing out in the street, and your walls must be pretty thin, because I can hear you all arguing.)
